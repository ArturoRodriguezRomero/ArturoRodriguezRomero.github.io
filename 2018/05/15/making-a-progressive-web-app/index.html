<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Practical Guide to Progressive Web Apps. | Arturo Rodríguez Romero</title>
  <meta name="author" content="Arturo Rodríguez Romero">
  <meta name="description" content="Technology Internet Blog">
  <meta property="og:title" content="Practical Guide to Progressive Web Apps. | Arturo Rodríguez Romero">
  <meta property="og:url" content="https://github.com/ArturoRodriguezRomero/2018/05/15/making-a-progressive-web-app/">
  <meta property="og:site_name" content="Arturo Rodríguez Romero">
  <meta property="og:description" content="Practical Guide to Progressive Web Apps.">
  <meta property="og:image" content="https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2017/03/1490120495Progressive_Web_App_C-01.png">
  <meta property="og:type" content="blog">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:description" content="Practical Guide to Progressive Web Apps.">
  <meta name="twitter:title" content="Practical Guide to Progressive Web Apps. | Arturo Rodríguez Romero">
  <meta name="twitter:url" content="https://github.com/ArturoRodriguezRomero/2018/05/15/making-a-progressive-web-app/">
  <meta name="twitter:site" content="Arturo Rodríguez Romero">
  <meta name="twitter:creator" content="@">
  <meta name="twitter:domain" content="https://github.com/ArturoRodriguezRomero">
  <meta property="twitter:image" content="https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2017/03/1490120495Progressive_Web_App_C-01.png">

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Lora|Space+Mono:700">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css">
  <link rel="stylesheet" href="/assets/css/main.css">

  <link rel="alternate" type="application/rss+xml" title="Arturo Rodríguez Romero" href="https://github.com/ArturoRodriguezRomero/feed.xml">
  <link rel="canonical" href="https://github.com/ArturoRodriguezRomero/2018/05/15/making-a-progressive-web-app/">

  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#f5a503"/>
  <link rel="icon" href="/assets/images/icons/icon-512x512.png">

  
</head>


  <body>

    <main>
      <article itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">

  <header class="section-padding--lg mast rellax" data-rellax-speed="-4">
    <a class="nav nav--white" href="/">
      <i class="fa fa-lg fa-arrow-left"></i>
      <span>Back to Posts</span>
    </a>
    <figure class="absolute-bg mast__img" style="background-image: url('https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2017/03/1490120495Progressive_Web_App_C-01.png');"></figure>
    <div class="mast__container">
      <span>
        <time datetime="2018-05-15T00:00:00+02:00" itemprop="datePublished">May 15, 2018</time>
      </span>
      <h1 itemprop="name headline">Practical Guide to Progressive Web Apps.</h1>
      
      <span>Posted in 
        <a class="nav--white category" href="/category/web-design">Web-Design</a> 
      </span>
      
      <span></span>
    </div>
  </header>

  <section class="section-padding bg-grey" itemprop="articleBody">
    <div class="post">
      <p>A new way to deliver amazing user experiences on the web.</p>

<p>That’s what Google calls Progressive Web Apps, but <strong>what are they really</strong>?</p>

<h2 id="practical-guide-to-progressive-web-apps">Practical Guide to Progressive Web Apps.</h2>

<p>Well, it’s fairly simple, Progressive Web Apps, or PWA, are typical web application (HTML, CSS, JS) that meet a number of requirements set by the web browser developers (Google, Mozilla, Apple, etc).</p>

<p>By meeting these requirements, when a user enters the web through their browser, they will be prompted to add the app to their homescreen. If they accept, a new app will <em>install</em> in their menu. This app is opened in fullscreen just like any other <em>native</em> app.</p>

<h4 id="what-pwa-are-not">What PWA are not:</h4>

<ul>
  <li>PWA are <strong>not</strong> <em>native</em> applications.</li>
  <li>PWA <strong>don’t</strong> <em>install</em> like native applications.</li>
  <li>PWA run in the browser <strong>environment</strong> just like any other web app.</li>
</ul>

<h4 id="what-pwa-are">What PWA are:</h4>

<ul>
  <li>PWA can be used even when the device is <strong>not connected</strong> to the Internet.</li>
  <li>PWA are <strong>fast</strong>.</li>
  <li>PWA provide a better <strong>user experience</strong>.</li>
</ul>

<p>I won’t go into details defining PWA, Google has already done it better than anyone else could! <a href="https://developers.google.com/web/progressive-web-apps/">Check it out!</a>.</p>

<h3 id="lets-go-directly-to-the-practical-guide">Let’s go directly to the practical guide:</h3>

<p>Okay, first off, you need a typical web app to turn into a PWA. Anything will work really. But if you don’t have some old proyect laying around, you can use one of mine’s.</p>

<p><a href="https://github.com/ArturoRodriguezRomero/Responsive-Single-Page-Application-OMDB">SPA-OMDB</a> is a simple single page application made with vanilla JS, HTML and CSS. Download or fork it.</p>

<h4 id="1--perform-an-audit">1- Perform an Audit.</h4>

<p>Audits check that your website meets some requirements. I’m using Chrome’s built in Lighthouse audit system.</p>

<ul>
  <li>Press <code class="highlighter-rouge">F12</code>.</li>
  <li>Go to Audits.</li>
</ul>
<figure>
  <img src="/assets/images/audit-1.PNG" alt="audit-1" />
</figure>

<ul>
  <li>Hit <code class="highlighter-rouge">Perform an audit</code>. You only need to check the PWA option.</li>
</ul>

<figure>
  <img src="/assets/images/audit-3.PNG" alt="audit-3" />
</figure>

<p>Well, this is a bit embarrasing. But don’t worry! We will get there, we just need to meet all the <a href="https://developers.google.com/web/progressive-web-apps/checklist">PWA Checklist</a> requirements.</p>

<p>Most of them are pretty self explanatory, here we go.</p>

<h4 id="2--adding-a-service-worker">2- Adding a Service Worker.</h4>

<p>A service worker is a <strong>client-side proxy</strong>. Think of it like a little program that runs underneath the web application and can send or receive data.</p>

<p>This worker sits in a JavaScript file in your website (usually in the root folder and named sw.js).</p>

<p>This is the simplest possible service worker you can have:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
Copyright 2016 Google Inc. All Rights Reserved.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
    http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/</span>

<span class="c1">// Names of the two caches used in this version of the service worker.</span>
<span class="c1">// Change to v2, etc. when you update any of the local resources, which will</span>
<span class="c1">// in turn trigger the install event again.</span>
<span class="kd">const</span> <span class="nx">PRECACHE</span> <span class="o">=</span> <span class="s2">"precache-v1"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">RUNTIME</span> <span class="o">=</span> <span class="s2">"runtime"</span><span class="p">;</span>

<span class="c1">// A list of local resources we always want to be cached.</span>
<span class="kd">const</span> <span class="nx">PRECACHE_URLS</span> <span class="o">=</span> <span class="p">[];</span>

<span class="c1">// The install handler takes care of precaching the resources we always need.</span>
<span class="nb">self</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"install"</span><span class="p">,</span> <span class="nx">event</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">event</span><span class="p">.</span><span class="nx">waitUntil</span><span class="p">(</span>
    <span class="nx">caches</span>
      <span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">PRECACHE</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">cache</span> <span class="o">=&gt;</span> <span class="nx">cache</span><span class="p">.</span><span class="nx">addAll</span><span class="p">(</span><span class="nx">PRECACHE_URLS</span><span class="p">))</span>
      <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="nx">skipWaiting</span><span class="p">())</span>
  <span class="p">);</span>
<span class="p">});</span>

<span class="c1">// The activate handler takes care of cleaning up old caches.</span>
<span class="nb">self</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"activate"</span><span class="p">,</span> <span class="nx">event</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">currentCaches</span> <span class="o">=</span> <span class="p">[</span><span class="nx">PRECACHE</span><span class="p">,</span> <span class="nx">RUNTIME</span><span class="p">];</span>
  <span class="nx">event</span><span class="p">.</span><span class="nx">waitUntil</span><span class="p">(</span>
    <span class="nx">caches</span>
      <span class="p">.</span><span class="nx">keys</span><span class="p">()</span>
      <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">cacheNames</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">cacheNames</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span>
          <span class="nx">cacheName</span> <span class="o">=&gt;</span> <span class="o">!</span><span class="nx">currentCaches</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">cacheName</span><span class="p">)</span>
        <span class="p">);</span>
      <span class="p">})</span>
      <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">cachesToDelete</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span>
          <span class="nx">cachesToDelete</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">cacheToDelete</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">caches</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">cacheToDelete</span><span class="p">);</span>
          <span class="p">})</span>
        <span class="p">);</span>
      <span class="p">})</span>
      <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nb">self</span><span class="p">.</span><span class="nx">clients</span><span class="p">.</span><span class="nx">claim</span><span class="p">())</span>
  <span class="p">);</span>
<span class="p">});</span>

<span class="c1">// The fetch handler serves responses for same-origin resources from a cache.</span>
<span class="c1">// If no response is found, it populates the runtime cache with the response</span>
<span class="c1">// from the network before returning it to the page.</span>
<span class="nb">self</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"fetch"</span><span class="p">,</span> <span class="nx">event</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Skip cross-origin requests, like those for Google Analytics.</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">origin</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">respondWith</span><span class="p">(</span>
      <span class="nx">caches</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">request</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">cachedResponse</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">cachedResponse</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="nx">cachedResponse</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nx">caches</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">RUNTIME</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">cache</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="k">return</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">request</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="c1">// Put a copy of the response in the runtime cache.</span>
            <span class="k">return</span> <span class="nx">cache</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">request</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">clone</span><span class="p">()).</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
              <span class="k">return</span> <span class="nx">response</span><span class="p">;</span>
            <span class="p">});</span>
          <span class="p">});</span>
        <span class="p">});</span>
      <span class="p">})</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Add this block of <code class="highlighter-rouge">&lt;script&gt;</code> right under your <code class="highlighter-rouge">&lt;body&gt;</code> tag:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
    <span class="k">if</span><span class="p">(</span><span class="s1">'serviceWorker'</span> <span class="k">in</span> <span class="nb">navigator</span><span class="p">)</span> <span class="p">{</span>
      <span class="nb">navigator</span><span class="p">.</span><span class="nx">serviceWorker</span>
               <span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="s1">'/sw.js'</span><span class="p">)</span>
               <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Service Worker Registered"</span><span class="p">);</span> <span class="p">});</span>
    <span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>

</code></pre></div></div>

<h4 id="3--adding-a-manifest">3- Adding a Manifest.</h4>

<p>The manifest is a file that tells the browser some information it needs to properly display the web.</p>

<p>The simplest way to make a manifest is with <a href="https://app-manifest.firebaseapp.com/">Firebase’s App Manifest Generator</a>.</p>

<p>Fill the form with your app’s information (including the logo!), download it and simply add the manifest to the <code class="highlighter-rouge">&lt;head&gt;</code> block with:</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"manifest"</span> <span class="na">href=</span><span class="s">"manifest.json"</span><span class="nt">&gt;</span>
</code></pre></div></div>

<p>If you perform a new audit, you will see that a few more requirements have been met!</p>

<h4 id="4--adding-a-theme-color">4- Adding a Theme Color.</h4>

<p>Simply add this to the <code class="highlighter-rouge">&lt;head&gt;</code> block:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"theme-color"</span> <span class="na">content=</span><span class="s">"#db5945"</span><span class="nt">&gt;</span>
</code></pre></div></div>

<p>Easily enough.</p>

<h4 id="5--serving-over-https">5- Serving over HTTPS.</h4>

<p>When loading external files, either JavaScript libraries or images, you must make sure all of these are served over a HTTPS connection. This can be hard if your app uses a lot of pictures, but it’s the price we must do it for <em>progress</em>.</p>

<p>This also applies to yourself! <strong>The browser won’t prompt the user to install your app if it’s not served over HTTPS.</strong></p>

<p><strong>You may discard this requirement when using localhost.</strong></p>

<p>If you’ve met all the requirement your next audit should look something like this!</p>

<figure>
  <img src="/assets/images/audit-4.PNG" alt="audit-4" />
</figure>

<p>How progressive is that.</p>

    </div>
  </section>

  <section class="profile">
    <div class="profile__card">
      <div class="profile__img">
        <figure class="absolute-bg" style="background-image: url('/assets/images/kevin.png');"></figure>
      </div>
      <div class="profile__container">
        <h4>Arturo Rodríguez Romero</h4>
        <p>I'm a 20 year old Internet dude fascinated by a lot of things. Sometimes I like to write about things. I hope you like it. Attached image is accurate.</p>
        
        <ul class="profile__social">
           
          <li>
            <a class="fa fa-lg fa-github" href="https://github.com/ArturoRodriguezRomero" target="_blank"></a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </section>

</article>


<section class="post-footer">
  
    <a class="item__link" href="/2018/05/04/types-of-fun/" style="background-image: url('https://blog.vandalog.com/wp-content/uploads/2013/06/youth-waste.jpg');">
      <div class="item__container">
        <span>Read Previous</span>
        <h2>Types of Fun.</h2>
      </div>
    </a>
  
  
</section>

    </main>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/rellax/1.0.0/rellax.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>
<script type="text/javascript" src="/assets/js/app.js"></script>


  </body>
  <script>
    if('serviceWorker' in navigator) {
      navigator.serviceWorker
               .register('/sw.js')
               .then(function() { console.log("Service Worker Registered"); });
    }
    </script>
</html>
